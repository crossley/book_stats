```{r echo=F, message=F, warning=F}
rm(list=ls())
```

# Computing probabilities from probability distributions

## Learning objectives

TODO: fix learning objectives

* Understand how, in principle, to **compute expected
  values** from continuous and discrete random variables.

* Define and understand **probability distributions**
  including **probability mass functions**, and
  **probability density functions**, **cumulative
  probability functions** and **quantile functions**.

* Be able to read simple expected values and probabilities
  from probability mass and density functions, and
  cumulative distribution functions.

* Use `R` functions to obtain useful things about binomial
  and normal distributions.

  * `dbinom`
  
  * `pbinom`
  
  * `qbinom`
  
  * `rbinom`
  
  * `dnorm`
  
  * `pnorm`
  
  * `qnorm`
  
  * `rnorm`

## Computing Probabilities

With discrete probability distribution, we were able to
compute the probability of certain events by counting the
total number of ways for an outcome to occur and dividing by
the total number of possible outcomes. However, for
*continuous* probability distributions, this methods doesn't
work. To see this, consider a Normal distribution. We first
need to count the number of ways for an outcome to occur.
Suppose we are interested in $p(x<1)$. How many ways are
there for $x$ to be less than $1$? Since $x$ is continuous,
there are *infinite* ways for this occur! What about the
total number of possible outcomes? Right. Infinity again. So
we are left dividing one infinity by another infinity. Quite
a confusing and ill-defined situation.

<div class = "row">
<div class = "col-md-6">

### Discrete distributions

With discrete probability distributions -- also called
probability mass functions (pmfs) -- finite and well-defined
probabilities exist for every single possible outcome. This
means that you can plot the distribution, and read
probabilities right off the y-axis of the plot.

#### Binomial pmf

```{r, echo=F}

x <- seq(0, 15, 1)
fx <- dbinom(x, 15, 0.5)
d <- data.table(x=x, fx=fx)

ggplot(d, aes(x, fx)) +
    geom_point() +
    ylab('Probability') +
    theme(
        axis.text=element_text(size=18),
        axis.title=element_text(size=24)
    )

```

</div>
<div class = "col-md-6">

### Continuous distributions

With continuous probability distributions -- aslo called
probability density functions (pdfs) -- the probability of
any single outcome is zero. The distribution represents
*probability density* rather than probability. In this case,
probability is computed by taking the area under the curve.

#### Normal pdf

```{r, echo=F}

x <- seq(-5, 5, 0.01)
fx <- dnorm(x, 0, 1)
d <- data.table(x=x, fx=fx)

ggplot(d, aes(x, fx)) +
    geom_line() +
    ylab('Probability Density') +
    theme(
        axis.text=element_text(size=18),
        axis.title=element_text(size=24)
    )

```

</div>
</div>

<div class = "row">
<div class = "col-md-6">

#### Binomial example: P(X < 8)

```{r, echo=F}

x <- seq(0, 15, 1)
fx <- dbinom(x, 15, 0.5)
d <- data.table(x=x, fx=fx)
d[, px := x < 8]

ggplot(d, aes(x,
              fx,
              colour=factor(px),
              fill=factor(px))) +
    geom_point() +
    geom_segment(data=d[px==TRUE],
                 aes(x=x,
                     xend=x,
                     yend=fx,
                     y=0)) +
    ylab('Probability') +
    theme(
        axis.text=element_text(size=18),
        axis.title=element_text(size=24),
        legend.position='none'
    )

```

$$ p(X<8) = \sum_{i=0}^7 p(x_{i}) $$

</div>
<div class = "col-md-6">

#### Normal example: P(X < 1)

```{r, echo=F}

x <- seq(-5, 5, 0.01)
fx <- dnorm(x, 0, 1)
d <- data.table(x=x, fx=fx)
d[, px := x < 1]

ggplot(d, aes(x,
              fx,
              colour=factor(px),
              fill=factor(px))) +
    geom_line() +
    geom_ribbon(data=d[px==TRUE],
                aes(x=x,
                    ymin=0,
                    ymax=fx),
                alpha=0.3) +
    ylab('Probability Density') +
    theme(
        axis.text=element_text(size=18),
        axis.title=element_text(size=24),
        legend.position='none'
    )

```

$$ p(X<1) = \int_{-\inf}^{1} f(x) dx $$

</div>
</div>
